<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<title>luv2code Company Home Page</title>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Reference Bootstrap files -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
	<div class="container">
		<header class="py3">
			<h2>luv2code Company Home Page</h2>
		</header>
		<p>Welcome to the luv2code company home page!</p>

		<div sec:authorize="isAuthenticated()">
			<a href="javascript: document.logoutForm.submit()" role="menuitem">
				Logout</a>
			<form name="logoutForm" th:action="@{/logout}" method="post"
				th:hidden="true">
				<input hidden="true" type="submit" value="Sign Out" />
			</form>

			<a th:href="@{/myCv}">My Resume</a>
		</div>
		<div sec:authorize="isAnonymous()">
			<a th:href="@{/showMyLoginPage}">Login</a>

		</div>
		<hr>

		<!-- display user name and role -->

		<div sec:authorize="isAuthenticated()">
			User: <span sec:authentication="name"></span> <br> <br>
			Role(s): <span sec:authentication="principal.authorities"></span> <br>
			<br>
		</div>
		<div>
			<!-- Check for login error -->
			<div th:if="${session.user}">
				<p th:text="'Email: ' + ${session.user.email}"></p>
			</div>
		</div>
		<img th:src="|@{/img/user/}${#authentication.getPrincipal().getUsername()}.jpg|" />
		<!-- Photo upload section -->
		<form method="POST" enctype="multipart/form-data" th:action="@{/uploadPhoto}">
			<table>
				<tr>
					<td>File to upload:</td>
					<td><input type="file" name="photo" /></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="submit" value="Upload" /></td>
				</tr>
			</table>
		</form>
		<!-- CV edit section -->
		<form th:action="@{/saveCv}" th:object="${cv}" method="POST">
			<input type="hidden" th:field="*{id}" /> <input type="text"
				th:field="*{firstName}" placeholder="first name" /> <input
				type="text" th:field="*{lastName}" placeholder="last name" /> <input
				type="text" th:field="*{profession}" placeholder="profession" /> <input
				type="date" th:field="*{birthDate}" /> <input type="text"
				th:field="*{email}" placeholder="email" /> <input type="text"
				th:field="*{phone}" placeholder="phone number" /> <input
				type="text" th:field="*{overview}" placeholder="overview" />
			<button type="submit">Submit</button>


		</form>








	</div>
</body>

</html>









